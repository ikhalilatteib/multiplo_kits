\section{PROJENÝN TASARIMI VE ÇALIÞMA YAPISI}
Bu bölümde projenin tasarýmý ve çalýþma yapýsýndan bahsedilmektedir
\subsection{Projenin Tasarýmý}
Bu projede Þekil \ref{fig:arac_kiti}'deki görüldüðü gibi iki arka tekerleði ve bir önde tekerleði olan bir Multiplo robotu kullanacaðýz. Bu robotun montajý hakkýnda daha fazla bilgi için hazýr bir döküman bulunmaktadýr, dokümana görmek için \href{https://drive.google.com/file/d/11VlHap81XU32XOVKXIDdKzzte7GgiFI3/view?usp=sharing}{buraya tiklayýn}

\begin{figure}[h]
\centering
  \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{arac_2}
         \caption{}
         \label{fig:arac_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{arac_1}
         \caption{}
         \label{fig:arac_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{arac_3}
         \caption{}
         \label{fig:arac_3}
     \end{subfigure}
     
  \caption{Projede kullandýðýmýz robot}
  \label{fig:arac_kiti}
  
\end{figure}

Giriþte size söylediðimiz gibi, bu proje iki uygulamayý gerçekleþtirmeye amaçlýdýr
\begin{itemize}
\item Kumanda ile hareket ettirmek
\item Engel Algýlama
\end{itemize}

olup projenin çalýþma yapýsý kýsmýnda bu uygulamalar ile ilgili detaylý bilgiler verilmiþtir.

\newpage
\subsection{Projenin Çalýþma Yapýsý}
Bu bölümde projenin çalýþma yapýsýndan bahsedilmektedir.
\subsubsection{Kumanda ile hareket ettirme}
Programlama aþamasýna geçmeden önce Þekil \ref{fig:kumanda_aleti}'de görülen akýþ diyagramý ile açýklamaya çalýþýyoruz.
\begin{figure}[h]
\centering
  \includegraphics[scale=0.4]{kumanda.png}
  \caption{Kumanda ile hareket ettirme akýþ diyagramý}
  
  \label{fig:kumanda_aleti}
\end{figure}

Akýþ diyagramýmýzý çizdikten sonra programlama aþamasýna geçiyoruz.

Önce miniBloq olan programýmýzý açýyoruz, ardýndan Þekil \ref{fig:val_1}'teki kýrmýzý renk ile çizdiðimiz sembolü seçiyoruz, bu sembol bir deðiþkeni ifade ediyor. Deðiþkenimize isim olarak "speed" atadýk. Þekil \ref{fig:val_2} resimdeki gibi daire içine aldýðýmýz kýsma týklýyoruz, kýrmýzý ile çizdiðimiz deðeri belirten \# sembolünü seçmemizi saðlayan bir pencere açýlýyor. "speed" deðiþkenimize 50 deðeri veriyoruz ve deðer olarak sýfýra "code" adlý baþka bir deðiþken ekliyoruz yani 2 deðiþkenimiz var.\\
speed=50
code = 0
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{val_1}
         \caption{}
         \label{fig:val_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{val_2}
         \caption{}
         \label{fig:val_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{val_3}
         \caption{}
         \label{fig:val_3}
     \end{subfigure}
        \caption{miniBloq deðiþken tanýmla}
        \label{fig:miniBloq degisken tanimla}
\end{figure}

Deðiþkenlerimizi aldýktan sonra bir döngü ihtiyacýmýz var. Programý hep çalýþýr durumda býrakmak istiyoruz. Þekil \ref{fig:while_dongusu}'te görüldüðü gibi bunu while döngüsüyle nasýl yapabileceðimizi açýklýyoruz.
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{while_1}
         \caption{}
         \label{fig:while_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{while_2}
         \caption{}
         \label{fig:while_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{while_3}
         \caption{}
         \label{fig:while_3}
     \end{subfigure}
         \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{while_4}
         \caption{}
         \label{fig:while_4}
     \end{subfigure}
        \caption{While Döngüsü tanýmlama aþamalarý}
        \label{fig:while_dongusu}
\end{figure}
\newpage
Daha sonra uzaktan kumandadan gelen deðere ihtiyacýmýz var, bunu yapabilmek için kumandadan gelen deðeri code deðiþkenimize atamamýz gerekiyor. Þekil \ref{fig:degisken_val}'daki görselleri inceleyerek yapabilirsiniz.
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_1}
         \caption{}
         \label{fig:ata_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_2}
         \caption{}
         \label{fig:ata_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_3}
         \caption{}
         \label{fig:ata_3}
     \end{subfigure}
         \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_4}
         \caption{}
         \label{fig:ata_4}
     \end{subfigure}
      \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_5}
         \caption{}
         \label{fig:ata_5}
     \end{subfigure}
      \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{ata_6}
         \caption{}
         \label{fig:ata_6}
     \end{subfigure}
        \caption{Deðiþkene deðer atma iþlemler}
        \label{fig:degisken_val}
\end{figure}
\newpage
Uzaktan kumandadan gelen deðeri alabildik. Þimdi gelen deðerleri kontrol edebilmek için koþullarý ayarlayacaðýz ve buna göre robotumuzun hareketlerini yöneteceðiz.
Þekil \ref{fig:kumanda_value_2}'de görüldüðü gibi ilk koþul gelen sayýnýn 2 olup olmadýðýný kontrol etmektir.
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{if_1}
         \caption{}
         \label{fig:if_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{if_2}
         \caption{}
         \label{fig:if_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{if_3}
         \caption{}
         \label{fig:if_3}
     \end{subfigure}
         \hfill
     \begin{subfigure}[b]{0.23\textwidth}
         \centering
         \includegraphics[width=\textwidth]{if_4}
         \caption{}
         \label{fig:if_4}
     \end{subfigure}
        \caption{Birinci koþul kumandadan gelen deðer 2 ise}
        \label{fig:kumanda_value_2}
\end{figure}

Þekil \ref{fig:devant}'da gelen sayýnýn deðerinin 2 olduðunu varsayalým, o zaman robotu 50 hýzla ilerleteceðiz\\
Bunu yapmak için motor0'a 50 ve motor1'e -50 atadýk

\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.17\textwidth}
         \centering
         \includegraphics[width=\textwidth]{motor_1}
         \caption{}
         \label{fig:motor_1}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.17\textwidth}
         \centering
         \includegraphics[width=\textwidth]{motor_2}
         \caption{}
         \label{fig:motor_2}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.17\textwidth}
         \centering
         \includegraphics[width=\textwidth]{motor_3}
         \caption{}
         \label{fig:motor_3}
     \end{subfigure}
         \hfill
     \begin{subfigure}[b]{0.17\textwidth}
         \centering
         \includegraphics[width=\textwidth]{motor_4}
         \caption{}
         \label{fig:motor_4}
     \end{subfigure}
      \hfill
     \begin{subfigure}[b]{0.17\textwidth}
         \centering
         \includegraphics[width=\textwidth]{motor_5}
         \caption{}
         \label{fig:motor_5}
     \end{subfigure}
        \caption{Ýleriye doðru}
        \label{fig:devant}
\end{figure}
\newpage
Kumandadan gelen deðer 8 ise motor0 -50 ve motor1 50 atayarak robotumuz geriye gidiyor Þekil \ref{fig:code_8}'da kodu gösterilmiþtir.
\begin{figure}[h!]
\centering
  \includegraphics[width=0.6\textwidth]{code_8.png}
  \caption{Geriye doðru }
  \label{fig:code_8}
\end{figure}

Robotun saða dönmesini saðlamak için her iki motora da 50 hýz atamamýz yeterlidir.\\
bu iþlemi gerçekleþtirmek için Þekil \ref{fig:code_6}'de uzaktan kumandaya 6 deðerini veriyoruz
\begin{figure}[h!]
\centering
  \includegraphics[width=0.7\textwidth]{code_6.png}
  \caption{Saða dön}
  \label{fig:code_6}
\end{figure}

Tabii saða dönebiliyorsa sola da dönebilir, peki bunu nasýl yapacaðýz? \\
Þekil \ref{fig:code_4}'de basit bir þekilde her iki motora da -50 atayarak gerçekleþtirebiliriz.\\
bu iþlem için 4 deðerini verebiliriz
\begin{figure}[h!]
\centering
  \includegraphics[width=0.6\textwidth]{code_4.png}
  \caption{Sola dön}
  \label{fig:code_4}
\end{figure}

Robotu istediðimiz yöne yönlendirebildik, þimdi 5 tuþuna bastýðýmýzda durmasýný istiyoruz kodu Þekil \ref{fig:code_5}'te gösterilmiþtir.
\begin{figure}[h!]
\centering
  \includegraphics[width=0.6\textwidth]{code_5.png}
  \caption{Reset atma}
  \label{fig:code_5}
\end{figure}

\newpage
Ýlk uygulamanýz bitti, size uygulama sýrasýnda kullandýðýmýz malzemelerin Þekil \ref{fig:mal_1}'te gösterilen malzameler kullandýk.
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.2\textwidth}
         \centering
         \includegraphics[width=\textwidth]{robot}
         \caption*{ Robot}
         \label{fig:robot}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.2\textwidth}
         \centering
         \includegraphics[width=\textwidth]{kumanda_algo}
         \caption*{ Kumanda}
         \label{fig:kumanda}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.2\textwidth}
         \centering
         \includegraphics[width=\textwidth]{cable}
         \caption*{ Kablo}
         \label{fig:cable}
     \end{subfigure}
         \hfill
     \begin{subfigure}[b]{0.2\textwidth}
         \centering
         \includegraphics[width=\textwidth]{sensor}
         \caption*{ Sensör}
         \label{fig:sensor}
     \end{subfigure}
      \caption{Ýlk uygulamada kullandýðýmýz malzemeler}
      \label{fig:mal_1}
      
\end{figure}

\subsubsection{Engel Algýlama}
Bu projedeki ikinci uygulamamýz olan robot bir engelle karþýlaþtýðýnda kendi kendine duracaktýr.
Mesafeyi tespit etmek için robot, HC-SR04 ultrasonik sensörü kullanýr. Böylece bu sensör her 10 mikrosaniyede bir ultrasonik ses dalgalarý gönderir ve eðer önünde bir engel varsa sensör yankýyý alýr.

\textbf{Kablolama}\\
Þekil \ref{fig:cablage}'te görüldüðü gibi size sensörü robota nasýl baðlayabileceðinizi gösteriyoruz
\begin{figure}[h!]
\centering
  \includegraphics[width=0.9\textwidth]{cablage.jpg}
  \caption{HC-SR04 ultrasonik sensörü baðlanmasý}
  \label{fig:cablage}
\end{figure}
\newpage
\textbf{Akýþ Diyagramý}\\
\begin{figure}[h!]
\centering
  \includegraphics[width=0.9\textwidth]{engel.png}
  \caption{Engel algýlayan robot akiþ diyagramý}
  \label{fig:engel}
\end{figure}

Þekil \ref{fig:engel}'teki akýþ diyagramýnda görüldüðü gibi, programý sürekli çalýþýr durumda tutmak için while döngüsü ile baþlattýk. program otomatik olarak baþladýðýnda robot 50 hýz ile ileri doðru hareket eder ve ayný zamanda sensör sayesinde herhangi bir engel ile arasýndaki mesafeyi kontrol eder, engele olan mesafe 10'dan az ise robot durur ve sonra her iki saniyede bir engel olup olmadýðýný kontrol eder

\newpage
\textbf{Programlama}\\
Engel algýlayan robotun kodu Þekil \ref{fig:engel_kod}'de gösterilmiþtir.
\begin{figure}[h!]
\centering
  \includegraphics[width=0.7\textwidth]{engel_kod.png}
  \caption{Engel algýlayan robot kodu}
  \label{fig:engel_kod}
\end{figure}
\newpage
Ýkinci uygulamýmýz olan engel algýlayan robotun kullanýlan malzemeleri Þekil \ref{fig:engel_mal}'de gösterilmiþtir.
\begin{figure}[h!]
     \centering
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{robot}
         \caption*{ Robot}
         \label{fig:robot}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{jumper}
         \caption*{ 4 Adet Erkek-Diþi Jumper}
         \label{fig:kumanda}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.3\textwidth}
         \centering
         \includegraphics[width=\textwidth]{sens}
         \caption*{ Kablo}
         \label{fig:cable}
     \end{subfigure}
      \caption{Ýkinci uygulamada kullandýðýmýz malzemeler}
      \label{fig:engel_mal}
\end{figure}

